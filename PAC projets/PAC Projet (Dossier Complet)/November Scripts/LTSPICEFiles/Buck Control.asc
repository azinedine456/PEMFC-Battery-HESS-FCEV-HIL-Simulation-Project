Version 4
SHEET 1 984 680
WIRE -1088 -96 -1136 -96
WIRE -1072 -96 -1088 -96
WIRE -1376 -80 -1456 -80
WIRE -1312 -80 -1376 -80
WIRE -1200 -80 -1216 -80
WIRE -2048 -64 -2384 -64
WIRE -1952 -64 -2048 -64
WIRE -1872 -64 -1888 -64
WIRE -1808 -64 -1872 -64
WIRE -1664 -64 -1744 -64
WIRE -1632 -64 -1664 -64
WIRE -1536 -64 -1568 -64
WIRE -1456 -64 -1456 -80
WIRE -1456 -64 -1472 -64
WIRE -2384 -32 -2384 -64
WIRE 208 0 176 0
WIRE 288 0 256 0
WIRE -1920 16 -1920 -32
WIRE -1664 16 -1680 16
WIRE -1600 16 -1600 -32
WIRE -1600 16 -1664 16
WIRE -1504 32 -1504 -32
WIRE 208 32 208 0
WIRE 256 32 256 0
WIRE 288 32 288 0
WIRE -1216 48 -1216 -80
WIRE -1056 48 -1216 48
WIRE -1920 64 -1920 16
WIRE -832 64 -992 64
WIRE -752 64 -832 64
WIRE 192 80 80 80
WIRE 352 80 272 80
WIRE 432 80 352 80
WIRE 848 80 512 80
WIRE 896 80 848 80
WIRE 928 80 896 80
WIRE 80 112 80 80
WIRE 352 112 352 80
WIRE 848 112 848 80
WIRE 928 112 928 80
WIRE -1744 160 -1744 16
WIRE -2384 208 -2384 48
WIRE -1920 208 -1920 144
WIRE -1504 208 -1504 112
WIRE 80 208 80 192
WIRE 352 208 352 176
WIRE 352 208 80 208
WIRE 848 208 848 176
WIRE 848 208 352 208
WIRE 928 208 928 192
WIRE 928 208 848 208
WIRE 352 256 352 208
FLAG -1088 -96 vc1
FLAG -832 64 vc2
FLAG -1376 -80 mod
FLAG 352 256 0
FLAG -1920 208 0
FLAG -2384 208 0
FLAG 896 80 out
FLAG -1664 -64 m*_p
FLAG -1664 16 m*_i
FLAG -2048 -64 cons
FLAG -1920 16 mes
FLAG -1504 208 0
FLAG -1744 160 0
FLAG -1872 -64 diff
FLAG 176 0 vc1
FLAG 288 32 0
SYMBOL ind 416 96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value {L}
SYMBOL diode 368 176 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value IDI
SYMBOL voltage 80 96 R0
SYMATTR InstName V1
SYMATTR Value {E}
SYMBOL cap 832 112 R0
SYMATTR InstName C1
SYMATTR Value {C}
SYMBOL res 912 96 R0
SYMATTR InstName R2
SYMATTR Value 5
SYMBOL LTspiceControlLibrary\\PulseModulations\\PWM -1296 -48 R0
WINDOW 3 -255 -87 Left 2
WINDOW 123 118 -122 Left 2
SYMATTR Value Vin1=0 Vin2=1 Tperiod=1e-4
SYMATTR Value2 Tdelay=0 tripdt=Tdead
SYMATTR InstName U1
SYMBOL LTspiceControlLibrary\\PulseModulations\\ComplementaryBufferWithDeadtime -1200 -144 R0
SYMATTR InstName U2
SYMATTR Value Tdead={Tdead} tripdt={Tdead} *0.5
SYMBOL LTspiceControlLibrary\\PulseModulations\\ComplementaryBufferWithDeadtime -1056 -16 R0
SYMATTR InstName U3
SYMATTR Value Tdead={Tdead} tripdt={Tdead} *0.5
SYMBOL bv -1920 48 R0
SYMATTR InstName B1
SYMATTR Value V=I(L1)
SYMBOL voltage -2384 -48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 20 0 10p 10p 50e-3 100e-3)
SYMBOL sub -1936 -32 R0
SYMATTR InstName U7
SYMBOL Integral -1728 48 R0
SYMATTR InstName U8
SYMBOL Proportional -1792 -32 R0
SYMATTR InstName U9
SYMATTR Value K=0.0075
SYMBOL add -1616 -32 R0
SYMATTR InstName U10
SYMBOL add -1520 -32 R0
SYMATTR InstName U4
SYMBOL bv -1504 16 R0
SYMATTR InstName B3
SYMATTR Value V=V(out)/E
SYMBOL sw 288 80 R90
SYMATTR InstName S1
SYMATTR Value IDEAL
TEXT -32 576 Left 2 !.param L=0.005 E=200 C=1.25e-6 Tdead=10p Rdson=10p Roc=10e6
TEXT -32 552 Left 2 !.tran 0 300e-3 140e-3 1e-6
TEXT -32 608 Left 2 !.model IDI D(Ron=Rdson Roff=Roc Vfwd=0)
TEXT -32 632 Left 2 !.model IDEAL SW(Ron=Rdson,Roff=Roc,Vt=0.5)
TEXT -2128 -168 Left 4 ;Controller
