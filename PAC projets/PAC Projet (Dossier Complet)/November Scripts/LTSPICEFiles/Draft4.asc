Version 4
SHEET 1 880 680
WIRE -4864 -1200 -4976 -1200
WIRE -4800 -1200 -4864 -1200
WIRE -4528 -1200 -4720 -1200
WIRE -4336 -1200 -4528 -1200
WIRE -4304 -1200 -4336 -1200
WIRE -4240 -1200 -4272 -1200
WIRE -3984 -1200 -4016 -1200
WIRE -3872 -1200 -3920 -1200
WIRE -4976 -1184 -4976 -1200
WIRE -4528 -1184 -4528 -1200
WIRE -4240 -1184 -4240 -1200
WIRE -4016 -1184 -4016 -1200
WIRE -5216 -1168 -5600 -1168
WIRE -4432 -1168 -4480 -1168
WIRE -5600 -1120 -5600 -1168
WIRE -4976 -1072 -4976 -1104
WIRE -4528 -1072 -4528 -1104
WIRE -4528 -1072 -4976 -1072
WIRE -4480 -1072 -4480 -1120
WIRE -4480 -1072 -4528 -1072
WIRE -4416 -1072 -4480 -1072
WIRE -4240 -1072 -4240 -1104
WIRE -4240 -1072 -4416 -1072
WIRE -4016 -1040 -4016 -1104
WIRE -3872 -1040 -3872 -1200
WIRE -3872 -1040 -4016 -1040
WIRE -4416 -1008 -4416 -1072
WIRE -4016 -992 -4016 -1040
WIRE -5600 -976 -5600 -1040
WIRE -5216 -976 -5216 -1168
WIRE -5216 -976 -5600 -976
WIRE -5600 -944 -5600 -976
WIRE -4800 -672 -4800 -736
WIRE -4320 -672 -4320 -736
WIRE -3840 -672 -3840 -736
WIRE -4800 -544 -4800 -592
WIRE -4320 -544 -4320 -592
WIRE -3840 -544 -3840 -592
FLAG -4016 -1200 2
FLAG -4240 -1200 1
FLAG -4416 -1008 0
FLAG -4016 -992 0
FLAG -4864 -1200 line
FLAG -4320 -544 0
FLAG -4320 -736 vcg
FLAG -4800 -544 0
FLAG -4800 -736 tim
FLAG -3840 -544 0
FLAG -3840 -736 cont
FLAG -5600 -944 0
FLAG -4432 -1168 cont
SYMBOL ind2 -4256 -1088 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L1
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL cap -4272 -1216 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL ind2 -4000 -1088 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 0.1
SYMATTR Type ind
SYMBOL cap -3984 -1184 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL voltage -4976 -1200 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 10k 50 0 0 0)
SYMBOL bv -4320 -688 R0
SYMATTR InstName B2
SYMATTR Value V=if(abs(V(line))>Vbreakdown,1,0)
SYMBOL voltage -4800 -688 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 1 0.5m 10p 10p 1m 2m)
SYMBOL bv -3840 -688 R0
SYMATTR InstName B3
SYMATTR Value V=if(V(vcg)&V(tim),1,0)
SYMBOL bi -5600 -1120 R0
SYMATTR InstName SparkgapCurrent1
SYMATTR Value I=if(V(cont)>0,I(S1),0)
SYMBOL sw -4528 -1088 R180
SYMATTR InstName S1
SYMATTR Value MySwitch
SYMBOL res -4704 -1216 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Rline}
TEXT -4224 -1232 Left 2 !K L1 L2 0.08
TEXT -4424 -864 Left 2 !.tran 0 0.110 0 1e-6
TEXT -4672 -1328 Left 2 !.param Vbreakdown=7k slope=0 Rspark=3 Rline=0.01
TEXT -4672 -1288 Left 2 !.ic V(vcg)=0
TEXT -4680 -1360 Left 2 !.model MySwitch SW(Ron=Rspark Roff=1Meg Vt=0.5)
